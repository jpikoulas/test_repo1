<endpoint name="data/indexes">
  <header>Indexes</header>
  <menu name="data_configurations">
    <label>Indexes</label>
    <url>/manager/%(namespace)s/data/indexes?search=isInternal%%3dfalse&amp;search=isVirtual%%3dfalse</url>
    <description>Create new indexes and manage index size preferences.</description>
    <order>70</order>
    <id>indexes</id>
  </menu>
  <elements>
    <element name="indexPage" type="fieldset">
      <view name="list"/>
      <view name="edit"/>
      <view name="create"/>
      <elements>
        <element name="name" type="textfield" label="Index name">
          <view name="list"/>
          <view name="create"/>
          <key name="exampleText">Set index name (e.g., INDEX_NAME). Search using index=INDEX_NAME.</key>
        </element>
        <element name="currentDBSizeMB" label="Current size (GB)">
          <view name="list"/>
          <key name="processValueList">i18n.format_number(round(float(value)/1024.0, 2)) if value else 'N/A'</key>
        </element>
        <element name="maxTotalDataSizeMB" type="textfield" label="Max size (GB) of entire index">
          <view name="list"/>
          <view name="edit"/>
          <view name="create"/>
          <key name="exampleText">Maximum target size of entire index.</key>
          <key name="processValueList">i18n.format_number(round(float(value)/1024.0, 2)) if value else 'N/A (virtual index)'</key>
          <!-- first cast value to int, then divide it by 1024, and then round to two decimal places. -->
          <key name="processValueAdd">round(int(value)/1024.0, 2)</key>
          <key name="processValueEdit">round(int(value)/1024.0, 2)</key>
          <!-- first cast value to float, then multiply by 1024, and then round, then cast to int. -->
          <key name="submitValueAdd">int(round(float(value)*1024.0, 0))</key>
          <key name="submitValueEdit">int(round(float(value)*1024.0, 0))</key>
          <key name="validation">string</key>
          <key name="class">short</key>
        </element>
        <element name="frozenTimePeriodInSecs" label="Retention (Days)">
          <view name="list"/>
          <view name="edit"/>
          <view name="create"/>
          <key name="processValueList">i18n.format_number(int(value)/86400) if value else ''</key>
          <key name="processValueAdd">int(value)/86400</key>
          <key name="processValueEdit">int(value)/86400</key>
          <key name="submitValueAdd">int(value)*86400</key>
          <key name="submitValueEdit">int(value)*86400</key>
        </element>
        <element name="totalEventCount" label="Event count">
          <view name="list"/>
          <key name="processValueList">i18n.format_number(int(value)) if value else 'N/A'</key>
        </element>
        <element name="minTime" label="Earliest event">
          <view name="list"/>
          <key name="processValueList">i18n.format_datetime(splunk.util.parseISO(value)) if value else 'N/A'</key>
        </element>
        <element name="maxTime" label="Latest event">
          <view name="list"/>
          <key name="processValueList">i18n.format_datetime(splunk.util.parseISO(value)) if value else 'N/A'</key>
        </element>
      </elements>
      <key name="legend">Index settings</key>
    </element>
    <element name="eai:acl.app" label="App">
      <view name="list"/>
      <key name="processValueList">entity['eai:acl']['app'] or ""</key>
    </element>
  </elements>
</endpoint>
